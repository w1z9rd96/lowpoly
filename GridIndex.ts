import path from "path"; import express from "express"; import {fileURLToPath} from "url"; import {defineServer} from "colyseus"; import { WebSocketTransport } from "@colyseus/ws-transport"; import { BRPvPRoom } from "./rooms/BRPvPRoom.js"; import { BRPvERoom } from "./rooms/BRPvERoom.js"; const __filename=fileURLToPath(import.meta.url); const __dirname=path.dirname(__filename); const server=defineServer({ transport:new WebSocketTransport(), express:(app)=>{ const pub=path.join(__dirname,"../../public"); app.use(express.static(pub)); } }); server.define("br-pvp",BRPvPRoom); server.define("br-pve",BRPvERoom); const PORT=Number(process.env.PORT||3000); server.listen(PORT); console.log(`Low-Poly BR (StackBlitz) http://localhost:${PORT}`);
